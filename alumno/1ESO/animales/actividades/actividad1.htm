<!-- The whole Script is copyright to Michael Rottmeier, December 2001 -->
<!-- The marked parts of the script are copyright to Half-baked Software -->
<!-- The whole Script or parts of it may NOT be used without the written permisson of the author -->
<!-- http://michael-rottmeier.bei.t-online.de -->
<!-- http://learning.teach-nology.com -->


<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Características de los animales</title>
<meta name="Description" content="JavaScript Hangman Game">
<meta name="Keywords" content="Hangman, JS, javascript, JavaScript, Javascript, interactivity">
<meta name="Author" content="Michael Rottmeier">


<script language="javascript" type="text/javascript" src="HangmanFunction.js"></script>
<script type="text/javascript" language="javascript">


var Title = "\u0043\u0061\u0072\u0061\u0063\u0074\u0065\u0072\u00ED\u0073\u0074\u0069\u0063\u0061\u0073\u0020\u0064\u0065\u0020\u006C\u006F\u0073\u0020\u0061\u006E\u0069\u006D\u0061\u006C\u0065\u0073";
var Subtitle = "\u0041\u0020\u0063\u006F\u006E\u0074\u0069\u006E\u0075\u0061\u0063\u0069\u00F3\u006E\u0020\u0074\u0065\u006E\u0064\u0072\u00E1\u0073\u0020\u0071\u0075\u0065\u0020\u0065\u006E\u0063\u006F\u006E\u0074\u0072\u0061\u0072\u0020\u0074\u0072\u0065\u0073\u0020\u0070\u0061\u006C\u0061\u0062\u0072\u0061\u0073\u002C\u0020\u0075\u006E\u0061\u0020\u0064\u0065\u0074\u0072\u00E1\u0073\u0020\u0064\u0065\u0020\u006F\u0074\u0072\u0061\u002C\u0020\u0071\u0075\u0065\u0020\u0068\u0061\u0063\u0065\u006E\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006E\u0063\u0069\u0061\u0020\u0061\u006C\u0020\u0074\u0069\u0070\u006F\u0020\u0064\u0065\u0020\u0061\u006C\u0069\u006D\u0065\u006E\u0074\u0061\u0063\u0069\u00F3\u006E\u0020\u0064\u0065\u0020\u006C\u006F\u0073\u0020\u0061\u006E\u0069\u006D\u0061\u006C\u0065\u0073\u002C\u0020\u0061\u0020\u006C\u006F\u0073\u0020\u0071\u0075\u0065\u0020\u0074\u0069\u0065\u006E\u0065\u006E\u0020\u0065\u0073\u0071\u0075\u0065\u006C\u0065\u0074\u006F\u0020\u0069\u006E\u0074\u0065\u0072\u006E\u006F\u0020\u0079\u0020\u0061\u0020\u006C\u006F\u0073\u0020\u0071\u0075\u0065\u0020\u006E\u006F\u0020\u0074\u0069\u0065\u006E\u0065\u0020\u0065\u0073\u0071\u0075\u0065\u006C\u0065\u0074\u006F\u0020\u0069\u006E\u0074\u0065\u0072\u006E\u006F\u002E\u0020\u0059\u0020\u006E\u006F\u0020\u0074\u0069\u0065\u006E\u0065\u006E\u0020\u0070\u006F\u0072\u0020\u0071\u0075\u00E9\u0020\u0061\u0070\u0061\u0072\u0065\u0063\u0065\u0072\u0020\u0065\u006E\u0020\u0065\u0073\u0074\u0065\u0020\u006F\u0072\u0064\u0065\u006E\u002E";
var Instructions = "\u0050\u0075\u006C\u0073\u0061\u0020\u0073\u006F\u0062\u0072\u0065\u0020\u006C\u0061\u0073\u0020\u006C\u0065\u0074\u0072\u0061\u0073\u0020\u0071\u0075\u0065\u0020\u0066\u006F\u0072\u006D\u0061\u006E\u0020\u006C\u0061\u0020\u0064\u0065\u0066\u0069\u006E\u0069\u0063\u0069\u00F3\u006E\u002E";
var CorrectLetter = "\u0059\u0061\u0020\u0071\u0075\u0065\u0064\u0061\u0020\u006D\u0065\u006E\u006F\u0073\u0020\u00BF\u006E\u006F\u003F";
var IncorrectLetter = "\u0050\u0072\u0075\u0065\u0062\u0061\u0020\u0063\u006F\u006E\u0020\u006F\u0074\u0072\u0061";
var Win = "\u0043\u006F\u0072\u0072\u0065\u0063\u0074\u006F\u002C\u0020\u006D\u0075\u0079\u0020\u0062\u0069\u0065\u006E";
var Lost = "\u0054\u0065\u006E\u0064\u0072\u00E1\u0073\u0020\u0071\u0075\u0065\u0020\u0072\u0065\u0070\u0061\u0073\u0061\u0072\u0020\u006D\u00E1\u0073";
var YourScore = "\u0054\u0075\u0020\u0070\u0075\u006E\u0074\u0075\u0061\u0063\u0069\u00F3\u006E\u0020\u0065\u0073\u003A";
var Scoring = true;
var Spaces = "\u0026\u0023\u0031\u0036\u0030\u003B \u0026\u0023\u0031\u0036\u0030\u003B";

var LettersLatin = "";
var LettersLatinSmall = "";
var LettersFrench = "";
var LettersFrenchSmall = "";
var LettersGerman = "";
var LettersGermanSmall = "";
var LettersElse = "";
var LettersElseSmall = "aábcdeéfghiíjklmnñoópqrstuvxyz";

var Letters = LettersLatin + LettersLatinSmall + LettersFrench + LettersFrenchSmall;
Letters += LettersGerman + LettersGermanSmall + LettersElse + LettersElseSmall;


var FontFace = "Arial,Geneva";

var CurrentPicture = 0;
var CurrentWord = 0;
var Word = "";
var WordLength = 0;
var CorrectLetters = 0;
var WrongLetters = 0;

var Finished = false;
var GameEnd = false;


var TableOpener = "<table border='0' width='85%' cellpadding='1' cellspacing='0'><tr>";
var TableCloser = "</tr></table>";

var HintButton = "<input type='button' name='Hint' value='\u0050\u0069\u0073\u0074\u0061' onClick='parent.ShowHint([WordNum])'></input>";
var NextWordButton = "<input type='button' name='NextWord' value='\u0053\u0069\u0067\u0075\u0069\u0065\u006E\u0074\u0065\u0020\u0070\u0061\u006C\u0061\u0062\u0072\u0061' onClick='parent.StartHangman(true,[WordNum])'></input>";

var Navigation = "";
Navigation += "<td bgcolor='#408080' align='center'><form name='Navigation' action=''>";
Navigation += "<input type='button' name='Index' value='\u0056\u006F\u006C\u0076\u0065\u0072' onClick='parent.OpenURL(2)'></input>";
Navigation += "</form</td>";


function OpenURL(id){
if (id == 2){
	parent.location="../animal.htm";
	}
	else{
		parent.location="";
		}
}



Hangman = new Array();
Hangman[0] = new Array();
Hangman[0][0] = "\u0068\u0065\u0074\u0065\u0072\u00F3\u0074\u0072\u006F\u0066\u006F\u0073";
Hangman[0][1] = "\u004C\u006F\u0073\u0020\u0073\u0065\u0072\u0065\u0073\u0020\u0076\u0069\u0076\u006F\u0073\u0020\u0071\u0075\u0065\u0020\u006E\u006F\u0020\u0072\u0065\u0061\u006C\u0069\u007A\u0061\u006E\u0020\u006C\u0061\u0020\u0066\u006F\u0074\u006F\u0073\u00ED\u006E\u0074\u0065\u0073\u0069\u0073";
Hangman[0][2] = 0;
Hangman[1] = new Array();
Hangman[1][0] = "\u0076\u0065\u0072\u0074\u0065\u0062\u0072\u0061\u0064\u006F\u0073";
Hangman[1][1] = "\u0070\u006F\u0072\u0020\u0065\u006A\u0065\u006D\u0070\u006C\u006F\u002C\u0020\u0075\u006E\u0020\u0070\u0065\u0072\u0072\u006F";
Hangman[1][2] = 0;
Hangman[2] = new Array();
Hangman[2][0] = "\u0069\u006E\u0076\u0065\u0072\u0074\u0065\u0062\u0072\u0061\u0064\u006F\u0073";
Hangman[2][1] = "\u0070\u006F\u0072\u0020\u0065\u006A\u0065\u006D\u0070\u006C\u006F\u002C\u0020\u006C\u0061\u0073\u0020\u006D\u006F\u0073\u0063\u0061\u0073";
Hangman[2][2] = 0;


LettersToGuess = new Array();

UsedLetters = new Array();


/* Shuffle function kindly provided by Half-baked Software */
function Shuffle(HangmanArray){

	Temp = new Array();
	
	var j = Hangman.length;
	
	for (var i=0; i<Hangman.length; i++){
		Temp[i] = HangmanArray[i];
		}

	for (i=0; i<Hangman.length; i++){
		Num = Math.floor(j  *  Math.random());
		HangmanArray[i] = Temp[Num];

		for (var k=Num; k < j; k++) {
			Temp[k] = Temp[k+1];
		}
		j--;
	}

	return HangmanArray;
}

PreloadedImages = new Array();

function PreloadImages(){
if (document.images){
	for (var pic=0; pic<7; pic++){
		PreloadedImages[pic]=new Image();
		PreloadedImages[pic].src="hm" + [pic+1] + ".gif";
		}
	}
}

/* ReplaceStuff function kindly provided by Half-baked Software */
function ReplaceStuff(Token, Replacement, InString){
	var i = InString.indexOf(Token);
	var FirstBit = "";
	var LastBit = "";
	while (i>-1){
		FirstBit = InString.substring(0, i);
		LastBit = InString.substring(i + Token.length, InString.length);
		InString = FirstBit + Replacement + LastBit;
		i = InString.indexOf(Token);
	}
	return InString;
}

function WriteFeedback(Content){
	var Output = "<html><head></head><body bgcolor='#e6ffe6'>";
	Output += "<center><table border='0' width='85%' cellpadding='5' cellspacing='1'>";
	Output += "<tr>";
	Output += Navigation;
	Output += "</tr>";
	Output += "<tr>";
	if (Content.length > 0){
		Output += "<td bgcolor='#e6ffe6' align='center'><font face='" + FontFace + "' color='#000000'>";
		Output += Content;
		Output += "</font></td>";
		}
	Output += "</tr></table><center></body></html>";

	FeedbackFrame.document.clear();
	FeedbackFrame.document.open();
	FeedbackFrame.document.write(Output);
	FeedbackFrame.document.close();
}


function DisplayHangman(Exercise){
	var Output = "<html><head><style type='text/css'>a {	text-decoration: none; color: #a02020;}a: hover{	text-decoration: none; color: red;}a: active,visited{	color: #a02020;}</style></head><body bgcolor='#e6ffe6' text='#0000ff'>";
	Output += "<center><font size='+1' color='#800000' face='" + FontFace + "'>";
	Output += Title;
	Output += "<br><font size='+0' color='#800000' face='" + FontFace + "'>";
	Output += Subtitle;
	Output += "</font><br><br>";
	Output += "<table border='0' width='85%' cellpadding='5' cellspacing='1'>";
	Output += "<tr><td bgcolor='#e6ffe6' align='center'>";
	Output += Exercise;
	Output += "</td></tr>";
	Output += "<tr>";
	Output += Navigation;
	Output += "</tr></table><center></body></html>";
	
	HangmanFrame.document.clear();
	HangmanFrame.document.open();
	HangmanFrame.document.write(Output);
	HangmanFrame.document.close();
}

function StartHangman(NewWord,WordNum){
	var Output = TableOpener;
	var Blank = "<font size='+3'><b> &#8722; </b></font>";
	
/* Start again, if all words are guessed */
	if (WordNum == Hangman.length){
		WordNum = (Hangman.length-1);
		CurrentWord = (Hangman.length-1);
		GameEnd = true;
		}	
	
/* Choose a new word, if wanted	and */
	if (NewWord == true){
	
/* Set the images to zero */
		CurrentPicture = 0;
		
/* Set Finished to false */
		Finished = false;
		
/* Set the Number of correct/wrong letters to zero */
		CorrectLetters = 0;
		WrongLetters = 0;
		
/* Write the instructions to the feedback */
		WriteFeedback(Instructions);
		
/* Delete the LettersToGuess-Array and set it to zero */
		if (LettersToGuess.length > 0){
			LettersToGuess.length = 0;
			}

/* Create the Array where to store the used letters and set the content to zero */
		for (var i=0; i<Letters.length; i++){
			UsedLetters[i] = "";
			}

/* Get the word */
		Word = Hangman[WordNum][0];

/* Put the letters of the word in an array */
		for (var i=0; i<Word.length; i++){
			LettersToGuess[i] = new Array();
			LettersToGuess[i][0] = Word.charAt(i);
			if (Word.charAt(i) == " "){
				LettersToGuess[i][1] = 1;		// Space, letter found
				}
				else{
					LettersToGuess[i][1] = 0;		// Letter not found yet
					}
			}
			
/* Save the number of letters of the word to be guessed */
		WordLength = Word.length;
		}

/* Create the display for the word */
	Output += "<td width='' align='center'>";
  Output += "<nobr>";
	for (var i=0; i<WordLength; i++){
		if (Finished == false){
			if (LettersToGuess[i][1] == 0){
				Output += Blank;
				}
				else if (LettersToGuess[i][1] == 1){
						if (LettersToGuess[i][0] == " "){  // check whether there's a space in the word
							Output += " </nobr><b><font size='+3'>" + Spaces + "</font></b><nobr> ";
							}
							else{  // if the letter is guessed, display it
								Output += " <b><font size='+2'>" + LettersToGuess[i][0] + "</font></b> ";
								}
						}
			}
		if (Finished == true){
			if (LettersToGuess[i][1] == 0){
				Output += " <b><font size='+2' color='#ff0000'>" + LettersToGuess[i][0] + "</font></b> ";
				}
				else if (LettersToGuess[i][1] == 1){
						if (LettersToGuess[i][0] == " "){  //check whether there's a space in the word
							Output += " </nobr><b><font size='+3'>" + Spaces + "</font></b><nobr> ";
							}
							else{ // if the letter was guessed display it
								Output += " <b><font size='+2'>" + LettersToGuess[i][0] + "</font></b> ";
								}
						}
			}
		}
		
  Output += "</nobr>";
	Output += "</td>";
	
/* Create the image-area */
	Output += "<td rowspan='3' width='300' align='center' halign='middle'>";
	Output += "<div id='Hangman'></div>";
	Output += "</td></tr><tr><td height='30' valign='center' align='center'>";
	
	
/* Add the space for the hint, or the hint itself */
	if (Hangman[WordNum][2] == 0){
		Output += "<div id='Hint'></div>";
		}
		else if (Hangman[WordNum][2] == 1){
			Output += Hangman[WordNum][1];
			}
/* Add the Hint Button or if the word is guessed, add the Next-Word Button */
/* or no button (if the hint was asked for already) */
	if ((Finished == true)&&(GameEnd == false)){
		Output += NextWordButton;
		Output = ReplaceStuff("[WordNum]", WordNum, Output);
		}
		else{
			if ((Hangman[WordNum][2] == 0)&&(Hangman[WordNum][1] != "")){
				Output += HintButton;
				Output = ReplaceStuff("[WordNum]", WordNum, Output);
				}
				else{
					Output += "";
					}
			}
		
	Output += "</td></tr><tr><td align='center'>";
	
/* Add the Letter-Arrays */
	Output += CreateLetterArray(i,WordNum);
	Output += "</td></tr><tr>";
	
		
/* Finish the Display-Grid */
	Output += TableCloser; 

	DisplayHangman(Output);
	DisplayImage(CurrentPicture);
}

function ShowHint(id){
	HangmanFrame.document.getElementById("Hint").innerHTML = Hangman[id][1];
	
	if (Hangman[id][2] == 0){
		CurrentPicture++;
		Hangman[id][2] = 1;
		}
	
	DisplayImage(CurrentPicture);
	StartHangman(false,id);
}

function CheckLetter(WordNum,Letter){
	var Output = "";
	var Guess = false;
	
	window.status=" ";

/* Save the guessed letter in the UsedLetters */
	UsedLetters[Letter] = Letters.charAt(Letter);
	
/* Check wether the guessed letter is correct */
	for (var i=0; i<LettersToGuess.length; i++){
		if (Letters.charAt(Letter) == LettersToGuess[i][0]){
			Guess = true;
			CorrectLetters++;
			LettersToGuess[i][1] = 1;
			}
		}

/* Write the Feedback for the guessed letter */
	if (Guess == true){
		Output += CorrectLetter;
		}
		else{
			Output += IncorrectLetter;
/* Display the Picture for a wrong guessed letter */
			CurrentPicture++;
			}
/* Send the data to the StartHangman-function in order to display the game */
	StartHangman(false,WordNum);			
			
/* If the word is completely guessed, set the Indicator Finished = true */
	var GuessedLetters = 0;

	for (var i=0; i<LettersToGuess.length; i++){
		if (LettersToGuess[i][1] == 1){
			GuessedLetters++;			
			}
		if (GuessedLetters == LettersToGuess.length){
			Finished = true;			
			CurrentWord++;
/* Mark all letters as "used"	*/
			for (var i=0; i<Letters.length; i++){
				UsedLetters[i] = Letters.charAt(i);
				}			
			StartHangman(false,CurrentWord);
/* Add the feedback if the word is guessed ... */
			Output += "<br>" + Win;
/* ... add the score, if the word is guessed */
			if (Scoring == true){
				Output += "<br>" + YourScore + " " + CalculateScore(WordNum) + " %";
				}
			}		
		}
	
	Finished = false;
		
/* Add the feedback if the man is hanged ...	*/
	if (CurrentPicture > 5){
		Output += "<br>" + Lost;
/* ... add the score, if the word is guessed */
			if (Scoring == true){
				Output += "<br>" + YourScore + " " + CalculateScore(WordNum) + " %";
				}
		}

	WriteFeedback(Output);
}

function CalculateScore(WordNum){
var MaxScore = 100;
var Score = 0;
var Penalty = 0;
/* Get the penalty */
	if (Hangman[WordNum][2] == 1){
		MaxScore = Math.floor(MaxScore/2);
		}

/* Calculate the points for wrong used letters */
/* Get the number of spaces included in the word */
	var Spaces = 0;
		for (var i=0; i<LettersToGuess.length; i++){
			if (LettersToGuess[i][0] == " "){
				Spaces++;
				}
			}
	var ScorePerWrongLetter = Math.abs(100/(Letters.length-(LettersToGuess.length-Spaces)));

/* Calculate the appropriate score for each "type" of letter */
	if (CurrentPicture != 7){
		WrongLetters = CurrentPicture;
		}
		else{
			WrongLetters = 6;
			}
	Score = Math.floor(((MaxScore/Hangman[WordNum][0].length)*(CorrectLetters+Spaces))-(ScorePerWrongLetter*WrongLetters));

	if (Score < 0){
		Score = 0;
		}
	return Score;
}

function DisplayImage(num){
var Num = 0;
	if (num == 6){
		Num = 6;
		Finished = true;
		CurrentWord++;
		CurrentPicture++;
/* Mark all letters as "used" */
		for (var i=0; i<Letters.length; i++){
			UsedLetters[i] = Letters.charAt(i);
			}			
		StartHangman(false,CurrentWord);
		}
		else if (num > 6){
				Num = 6;
				}
				else{
					Num = num;
					}
			
	var Picture = "<img border='0' width='200' height='240' src='hm" + (Num+1) + ".gif'></img>";

	HangmanFrame.document.getElementById("Hangman").innerHTML = Picture;
}

function StartUp(){
	Shuffle(Hangman);
	PreloadImages();
	StartHangman(true,CurrentWord);
}

function DoNothing(){
}

function Blank(){
	return "<html><body><b>©</b><font face='Arial'> Michael Rottmeier. Loading ...</font></body></html>";
}



</script></head>
<frameset rows="17%,*" frameborder="0" framespacing="0" onLoad="StartUp()">
	<frame name="FeedbackFrame" src="javascript:parent.Blank()" frameborder="0" NORESIZE scrolling="no"></frame>
	<frame name="HangmanFrame" src="javascript:parent.Blank()" frameborder="0" NORESIZE></frame>
<noframes>
Sorry, this pages uses frames and your browser does not support frames.<br>
Please get a browser supporting frames, eg. Netscape Navigator 6.0+ or Internet Explorer 5.5+.
</noframes>
</frameset>
</html>