<HTML><HEAD><meta name="author" content="Created with Hot Potatoes by Half-Baked Software, registered to Belen Sanchez."><meta name="keywords" content="Hot Potatoes, Half-Baked Software, Windows, University of Victoria">
<TITLE>
Actividad 9: S&iacute;ntesis de prote&iacute;nas
</TITLE>
<!--<BODY>Fool those dumb ad-inserting ISPs</BODY>-->
<SCRIPT LANGUAGE="JavaScript">

var TopNextExButton = '';
var Feedback = '';
var Correct = '';
var Incorrect = ''; 
var GiveHint = '';
var CaseSensitive = false;
var YourScoreIs = 'Tu puntuaci&oacute;n es:';
var platform = 'win';

var min
var sec
var ShowReadingAgain = 'Mostrar el texto de nuevo'

function DownTime(mm,ss){
	min = mm;
	sec = ss;

	if (sec==0) {
		sec = 60;
		min--;
	}

	sec--;
	if (sec<10){
		sec="0" + sec;
	}

	if (parent.TimerFrame.document.TimerForm.face == null){
		return;
	}

	parent.TimerFrame.document.TimerForm.face.value= min+":"+sec;
	if ((min==0) && (sec==0)){
		TimesUp()
	}
	else{
		setTimeout('DownTime(min,sec)',1000)
	}
}

function SetUp(){
	if (parent.TimerFrame != null) {
		Stuff='<INPUT TYPE="Button"';
		Stuff+=' NAME="StartIt" VALUE="Leer" onClick="parent.CodeFrame.StartReading()">';
		WriteToReading('Pincha aqu&iacute; para ver el texto.');
		WriteToTimer(Stuff);
	}
}

function StartReading(){
	Stuff='Tiempo restante:';
	Stuff+=' <INPUT TYPE="text" NAME="face" SIZE="6" VALUE="1:00">';
	WriteToTimer(Stuff);
	parent.ReadingFrame.location.href='activ9r.htm';
	timeoutID=setTimeout('DownTime(1,0)',1000);
}

function TimesUp() {
	if (ShowReadingAgain.length > 0) {
		Stuff='<INPUT TYPE="Hidden" NAME="ThisAvoidsNavigator3Bug">';
		Stuff+='<INPUT TYPE="Button" NAME="StartIt" VALUE="Mostrar el texto de nuevo" onClick="parent.CodeFrame.StartReading()">';
		WriteToTimer(Stuff);
	}
	WriteToReading('&#161;El tiempo ha terminado!');
}

function WriteToReading(Stuff) {
	parent.ReadingFrame.document.clear();
	parent.ReadingFrame.document.open();
	parent.ReadingFrame.document.writeln ('<HTML>');
	parent.ReadingFrame.document.writeln ('<BODY  BACKGROUND="" BGCOLOR="#e6ffe6" TEXT="#000000" LINK="#0000ff" VLINK="#0000cc">');
	parent.ReadingFrame.document.writeln ('<CENTER><TABLE BORDER="0" CELLPADDING="5" CELLSPACING="1" WIDTH="85%">');
	parent.ReadingFrame.document.writeln ('<TR><TD BGCOLOR="#d1e9d1" ALIGN="CENTER">') 
	parent.ReadingFrame.document.writeln ('<FONT FACE="Geneva,Arial" SIZE="-1">');
	parent.ReadingFrame.document.writeln (Stuff);
	parent.ReadingFrame.document.writeln ('</FONT></TD></TR></TABLE></CENTER></BODY></HTML>');
	parent.ReadingFrame.document.close();
}

function WriteToTimer(Stuff){
	parent.TimerFrame.document.clear();
	parent.TimerFrame.document.open();
	parent.TimerFrame.document.writeln ('<HTML>');
	parent.TimerFrame.document.writeln ('<BODY  BACKGROUND="" BGCOLOR="#e6ffe6" TEXT="#000000" LINK="#0000ff" VLINK="#0000cc">');
	parent.TimerFrame.document.writeln ('<CENTER><TABLE BORDER=\"0\" CELLPADDING=\"5\" CELLSPACING=\"1\" WIDTH="85%">');
	parent.TimerFrame.document.writeln ('<FORM NAME="TimerForm"><TR><TD BGCOLOR="#d1e9d1" ALIGN="CENTER">') 
	parent.TimerFrame.document.writeln ('<FONT FACE="Geneva,Arial" SIZE="-1">');
	parent.TimerFrame.document.writeln (Stuff);
	parent.TimerFrame.document.writeln ('</FONT></TD></TR></FORM></TABLE></CENTER></BODY></HTML>');
	parent.TimerFrame.document.close();
}

var CurrentWord = 0;

var LowerString='abcdefghijklmnopqrstuvwxyz%9A%9C%E0%E1%E2%E3%E4%E5%E6%E7%E8%E9%EA%EB%EC%ED%EE%EF%F0%F1%F2%F3%F4%F5%F6%F8%F9%FA%FB%FC%FD%FE%FF';
var UpperString='ABCDEFGHIJKLMNOPQRSTUVWXYZ%8A%8C%C0%C1%C2%C3%C4%C5%C6%C7%C8%C9%CA%CB%CC%CD%CE%CF%D0%D1%D2%D3%D4%D5%D6%D8%D9%DA%DB%DC%DD%DE%9F';

LowerString = unescape(LowerString);
UpperString = unescape(UpperString);

I = new Array();

I[0] = new Array();
I[0][1] = new Array();
I[0][1][0] = new Array();
I[0][1][0][0]='Subunidad menor';
I[0][2]='';

I[1] = new Array();
I[1][1] = new Array();
I[1][1][0] = new Array();
I[1][1][0][0]='Subunidad mayor';
I[1][2]='';

I[2] = new Array();
I[2][1] = new Array();
I[2][1][0] = new Array();
I[2][1][0][0]='Ribosoma';
I[2][2]='';

I[3] = new Array();
I[3][1] = new Array();
I[3][1][0] = new Array();
I[3][1][0][0]='Cadenas polipept%EDdicas en crecimiento';
I[3][2]='';

I[4] = new Array();
I[4][1] = new Array();
I[4][1][0] = new Array();
I[4][1][0][0]='ARN mensajero';
I[4][2]='';

I[5] = new Array();
I[5][1] = new Array();
I[5][1][0] = new Array();
I[5][1][0][0]='Cadena polipept%EDdica terminada';
I[5][2]='';


State = new Array();

var IsWrong = 0;

var isIE = false;

function StartUp(){

	var i = 0;

	for (i=0; i<I.length; i++){
		for (j=0; j<I[i][1].length; j++){
			I[i][1][j][0] = unescape(I[i][1][j][0]);
		}
	}

	platform = 'win';
	if ((navigator.appVersion.indexOf('Mac') != -1)&&(navigator.appName.indexOf('Microsoft') < 0)) {
		platform = 'mac';
	}	


	if (parent.TimerFrame != null) {
		Stuff='<INPUT TYPE="Button"';
		Stuff+=' NAME="StartIt" VALUE="Leer" onClick="parent.CodeFrame.StartReading()">';
		WriteToReading('Pincha aqu&iacute; para ver el texto.');
		WriteToTimer(Stuff);
	}

	State.length = 0;
	for (i=0; i<I.length; i++){
		State[i] = new Array();
		State[i][0] = 0; // clue asked for or not
		State[i][1] = 0; // hints asked for
		State[i][2] = 0; // length of answer matched
		State[i][3] = 0; // score for this item
	}

}

function CheckAnswers(){

	Scores = new Array();

	var AllCorrect = 1;

//Check each answer
	for (var i = 0; i< I.length; i++){

//If it's right, calculate its score
		if (CheckAnswer(i) > -1){
			var TotalChars = GetGapValue(i).length;
			Scores[i] = (TotalChars-State[i][1])/TotalChars;
			if (State[i][0] > 0){Scores[i] = Scores[i]/2;}
			if (Scores[i]<0){Scores[i] = 0;}
		}
		else{
//Otherwise, add zero to the array
			Scores[i] = 0;
//and blank it out
			SetGapValue(i, '');
//then set the flag
			AllCorrect = 0;
		}
	}

//Calculate the total score
	var TotalScore = 0;
	for (i=0; i<Scores.length; i++){
		TotalScore += Scores[i];
	}
	TotalScore = Math.floor((TotalScore * 100)/Scores.length);

//Compile the output
	Output = '';

	if (AllCorrect == 1){
		Output = Correct;
		Output += '<BR>' + TopNextExButton;
	}

	Output += YourScoreIs + ' ' + TotalScore + '%.<BR>';
	if (AllCorrect == 0){
		Output += '<BR>' + Incorrect;
	}

	WriteFeedback(Output);
}

function ShowClue(ItemNum){
	State[ItemNum][0] = 1;
	WriteFeedback(I[ItemNum][2]);
}

function GetGapValue(GNum){
	var RetVal = '';
	RetVal = eval('document.Cloze.Gap' + GNum).value;
	if (platform == 'mac'){RetVal = unescape(MacStringToWin(RetVal));}
//	RetVal = TrimString(RetVal);
	return RetVal;
}

function SetGapValue(GNum, Val){
	if ((GNum<0)||(GNum>=I.length)){return;}
	if (platform == 'mac'){Val = unescape(WinStringToMac(Val));}
	eval('document.Cloze.Gap' + GNum).value = Val;
}


function FindCurrent() {
	var x = 0;
	FoundCurrent = -1;
	if (CheckAnswer(CurrentWord) < 0) {
		FoundCurrent = CurrentWord;
	}	
	else {
		x=CurrentWord + 1;
		while ((FoundCurrent == -1) && (x<I.length)){
			if (CheckAnswer(x) < 0) {
				FoundCurrent = x;
			}
			x++;	
		}
	}
	if (FoundCurrent == -1){
		x = 0;
		while ((FoundCurrent == -1) && (x<CurrentWord)){
			if (CheckAnswer(x) < 0) {
				FoundCurrent = x;
			}
			x++;
		}
	}
	return FoundCurrent;
}

function CheckAnswer(GapNum){
	var Guess = GetGapValue(GapNum);
	var UpperGuess = '';
	var UpperAnswer = '';
	if (CaseSensitive == false){
		UpperGuess = ConvertCase(Guess, 1);
	}
	else{
		UpperGuess = Guess;
	}
	var Match = -1;
	for (var i = 0; i<I[GapNum][1].length; i++){
		if (CaseSensitive == false){
			UpperAnswer = ConvertCase(I[GapNum][1][i][0], 1);
		}
		else{
			UpperAnswer = I[GapNum][1][i][0];
		}
		if (TrimString(UpperGuess) == UpperAnswer){
			Match = i;
		}
	}
	return Match;
}


function GetHint(GapNum){
	Guess = GetGapValue(GapNum);

	if (CheckAnswer(GapNum) > -1){return ''}
	RightBits = new Array();
	for (var i=0; i<I[GapNum][1].length; i++){
		RightBits[i] = CheckBeginning(Guess, I[GapNum][1][i][0]);
	}
	var RightOne = FindLongest(RightBits);
	return I[GapNum][1][RightOne][0].substring(0,RightBits[RightOne].length);
}

function ShowHint(){
	var CurrGap = FindCurrent();
	if (CurrGap < 0){return;}

	var HintString = GetHint(CurrGap);

	if (HintString.length > 0){
		SetGapValue(CurrGap, HintString);
		State[CurrGap][1] = State[CurrGap][1] + 1;
		WriteFeedback(GiveHint);
	}
}


function ConvertCase(InString, Direction){

	var FromString = '';
	var ToString = '';

	if (Direction == 0){
		FromString = UpperString;
		ToString = LowerString;
	}
	else{
		FromString = LowerString;
		ToString = UpperString;
	}

	var i = 0;
	j = 0;
	var OutString = '';
	for (i=0; i<InString.length; i++){
		if (FromString.indexOf(InString.charAt(i)) > -1){
			j = FromString.indexOf(InString.charAt(i));			
			OutString += ToString.charAt(j);
		}
		else{	
			OutString += InString.charAt(i);
		}
	}
	return OutString;
}

function TrimString(InString){

	var x = 0;

	if (InString.length != 0) {

		while ((escape(InString.charAt(InString.length - 1)) == '%20') || (escape(InString.charAt(InString.length - 1)) == '%0A') || (escape(InString.charAt(InString.length - 1)) == '%0D')){
			InString = InString.substring(0, InString.length - 1);
		}

		while ((escape(InString.charAt(0)) == '%20') || (escape(InString.charAt(0)) == '%0A') || (escape(InString.charAt(0)) == '%0D')){
			InString = InString.substring(1, InString.length);
		}

		while (InString.indexOf('  ') != -1) {
			x = InString.indexOf('  ');
			InString = InString.substring(0, x) + InString.substring(x+1, InString.length );
		}
		return InString;
	}
	else {
		return '';
	}
}

CharList = new Array();
CharList[0]='%ED';
CharList[1]='%CD';

for (var i=0; i<CharList.length; i++){CharList[i] = unescape(CharList[i])}
EscapeList = new Array();
EscapeList[0]='&iacute;';
EscapeList[1]='&Iacute;';


function Webble(InString){
	var OutString = '';
	var NextChar = '';
	var FoundCode = '';
	var j = 0;
	var i = 0;
	for (i=0; i<InString.length; i++){
		FoundCode = '';
		NextChar = InString.charAt(i);
		for (j=0; j<CharList.length; j++){
			if (NextChar == CharList[j]){
				FoundCode = EscapeList[j];
				break;
			}
		}
		if (FoundCode.length > 0){
			OutString += FoundCode;
		}
		else{
			OutString += NextChar;
		}
	}
	return OutString;
}

var MacChars = '%80%81%82%83%84%85%86%87%88%89%8A%8B%8C%8D%8E%8F%90%91%92%93%94%95%96%97%98%99%9A';
MacChars += '%9B%9C%9D%9E%9F%A0%A1%A4%A5%A6%A7%A8%AA%AB%AC%AE%AF%B4%B6%BB%BC%BE%BF%C0%C1%C2%C4%C7%C8';
MacChars += '%C9%CA%CB%CC%CD%CE%CF%D0%D1%D2%D3%D4%D5%D6%D8%D9%DA%DB%DC%DD%E0%E1%E2%E3%E4%E5%E6%E7%E8%E9';
MacChars += '%EA%EB%EC%ED%EE%EF%F1%F2%F3%F4%F5%F6%F7%F8%FB%FD';

var WinChars = '%C4%C5%C7%C9%D1%D6%DC%E1%E0%E2%E4%E3%E5%E7%E9%E8%EA%EB%ED%EC%EE%EF%F1%F3%F2%F4';
WinChars += '%F6%F5%FA%F9%FB%FC%86%BA%A7%95%B6%DF%AE%99%92%A8%C6%D8%A5%F0%AA%BA%E6%F8%BF%A1%AC%83%AB%BB';
WinChars += '%85%82%C0%C3%D5%8C%9C%96%97%93%94%91%92%F7%FFY/%A4%8B%9B%87%B7%82%84%89%C2%CA%C1%CB';
WinChars += '%C8%CD%CE%CF%CC%D3%D4%D2%DA%DB%D9%B9%88%98%AF%B0%94';

WinChars = unescape(WinChars);
MacChars = unescape(MacChars)

function MacStringToWin(InString){

	var OutString = '';
	for (i=0; i<InString.length; i++){
		if ( (InString.charAt(i) > '~') && (MacChars.indexOf(InString.charAt(i)) > -1) ){
			OutString += WinChars.charAt(MacChars.indexOf(InString.charAt(i)));
		}
		else {
			OutString += InString.charAt(i);
		}
	}
	return escape(OutString);
}

function WinStringToMac(InString){

	var OutString = '';
	for (i=0; i<InString.length; i++){
		if ( (InString.charAt(i) > '~') && (WinChars.indexOf(InString.charAt(i)) > -1) ){
			OutString += MacChars.charAt(WinChars.indexOf(InString.charAt(i)));
		}
		else {
			OutString += InString.charAt(i);
		}
	}
	return escape(OutString);
}



function WriteFeedback(Feedback) {
	parent.FeedbackFrame.document.clear();
	parent.FeedbackFrame.document.open();
	parent.FeedbackFrame.document.writeln ('<HTML>');
	parent.FeedbackFrame.document.writeln ('<BODY  BACKGROUND="" BGCOLOR="#e6ffe6" TEXT="#000000" LINK="#0000ff" VLINK="#0000cc">');
	parent.FeedbackFrame.document.writeln ('<CENTER><TABLE BORDER="0" CELLPADDING="5" CELLSPACING="1" WIDTH="85%">');
	parent.FeedbackFrame.document.writeln ('<TR><TD BGCOLOR="#d1e9d1" ALIGN="CENTER">') 
	parent.FeedbackFrame.document.writeln ('<FONT FACE="Geneva,Arial" SIZE="-1">');
	parent.FeedbackFrame.document.writeln (Feedback);
	parent.FeedbackFrame.document.writeln ('</FONT></TD></TR></TABLE></CENTER></BODY></HTML>');
	parent.FeedbackFrame.document.close();
}


function TrackFocus(BoxNumber){
	CurrentWord = BoxNumber;
}


function CheckBeginning(Guess, Answer){
	var OutString = '';
	var i = 0;
	var UpperGuess = '';
	var UpperAnswer = '';

	if (CaseSensitive == false) {
		UpperGuess = ConvertCase(Guess, 1);
		UpperAnswer = ConvertCase(Answer, 1);
	}
	else {
		UpperGuess = Guess;
		UpperAnswer = Answer;
	}

	while (UpperGuess.charAt(i) == UpperAnswer.charAt(i)) {
		OutString += Guess.charAt(i);
		i++;
	}
	OutString += Answer.charAt(i);
	return OutString;
}

function FindLongest(InArray){
	if (InArray.length < 1){return -1;}

	var Longest = 0;
	for (var i=1; i<InArray.length; i++){
		if (InArray[i].length > InArray[Longest].length){
			Longest = i;
		}
	}
	return Longest;
}

</SCRIPT></HEAD>
<!--<BODY>Fool those dumb ad-inserting ISPs</BODY>-->
<BODY BACKGROUND="" BGCOLOR="#e6ffe6" TEXT="#000000" LINK="#0000ff" VLINK="#0000cc" onLoad="StartUp()">

<CENTER>
<TABLE BORDER="0" CELLPADDING="5" CELLSPACING="1" WIDTH="85%">

<TR><TD ALIGN="CENTER"><FONT SIZE="+1" FACE="Geneva,Arial" COLOR="#006666">Actividad 9: S&iacute;ntesis de prote&iacute;nas</FONT></TD></TR>
<TR><TD ALIGN="CENTER"><FONT SIZE="-1" FACE="Geneva,Arial" COLOR="#006666"><BR>&nbsp;</FONT></TD></TR>


<TR><TD BGCOLOR="#d1e9d1" VALIGN="MIDDLE">
<CENTER>
<TABLE BORDER=1 CELLPADDING=10><TR><TD><FONT SIZE="-1" FACE="Geneva,Arial"><CENTER>&nbsp;&nbsp; &nbsp;&nbsp;ARN mensajero&nbsp;&nbsp; &nbsp;&nbsp;Cadena polipept&iacute;dica terminada&nbsp;&nbsp; &nbsp;&nbsp;Cadenas polipept&iacute;dicas en crecimiento&nbsp;&nbsp; &nbsp;&nbsp;Ribosoma&nbsp;&nbsp; &nbsp;&nbsp;Subunidad mayor&nbsp;&nbsp; &nbsp;&nbsp;Subunidad menor&nbsp;&nbsp; &nbsp;&nbsp;</CENTER></FONT>
</TD></TR></TABLE></CENTER>
</TD></TR>


<TR><TD BGCOLOR="#d1e9d1">



<FORM NAME="Cloze">
          <font face="Geneva,Arial">Observa este dibujo e indica qu&eacute; representa 
          cada n&uacute;mero en la funci&oacute;n de s&iacute;ntesis de prote&iacute;nas 
          de los ribosomas:<br />
          <div align="center"><br />
          </div>
          </font>
          <div align="center">
            <table border="0" cellpadding="2" cellspacing="2" width="550" background="imagenes/sintesis_proteinas_numeros.jpg" height="303">
              <tr> 
                <td valign="bottom" colspan="3"> 
                  <div align="center"><font face="Geneva,Arial"> 
                    <input type="TEXT" name="Gap3" size="35" onFocus="TrackFocus(3)">
                    </font></div>
                </td>
                <td valign="bottom" width="46%"> <font face="Geneva,Arial"> 
                  <input type="TEXT" name="Gap5" size="28" onFocus="TrackFocus(5)">
                  </font></td>
              </tr>
              <tr> 
                <td colspan="3"><font face="Geneva,Arial"> </font></td>
                <td width="46%"> <font face="Geneva,Arial"> </font></td>
              </tr>
              <tr> 
                <td colspan="3" valign="bottom"> <font face="Geneva,Arial"> 
                  <textarea name="Gap1" cols="6" onFocus="TrackFocus(1)"></textarea>
                  <input type="TEXT" name="Gap2" size="8" onFocus="TrackFocus(2)">
                  </font></td>
                <td width="46%">&nbsp; </td>
              </tr>
              <tr> 
                <td colspan="3"></td>
                <td width="46%">&nbsp; </td>
              </tr>
              <tr> 
                <td colspan="3"></td>
                <td width="46%">&nbsp; </td>
              </tr>
              <tr> 
                <td colspan="3">&nbsp; </td>
                <td width="46%"></td>
              </tr>
              <tr> 
                <td valign="bottom" width="47%" height="41"> <font face="Geneva,Arial"> 
                  <input type="TEXT" name="Gap0" size="15" onFocus="TrackFocus(0)">
                  </font></td>
                <td valign="bottom" height="41">
                  <div align="right"><font face="Geneva,Arial"> 
                    <input type="TEXT" name="Gap4" size="13" onFocus="TrackFocus(4)">
                    </font> <font face="Geneva,Arial"></font><font face="Geneva,Arial"> 
                    </font></div>
                </td>
                <td valign="bottom" colspan="2" height="41"><font face="Geneva,Arial"> 
                  </font></td>
              </tr>
              <tr> 
                <td colspan="3">&nbsp;</td>
                <td width="46%"></td>
              </tr>
            </table>
          </div>
        </FORM>
</TD></TR>

<TR>
<FORM NAME="CheckForm">
<TD BGCOLOR="#d1e9d1" ALIGN="CENTER"><FONT FACE="Geneva,Arial"><INPUT TYPE="button" VALUE="&#161;Compruebalo!" onClick="CheckAnswers()"></FONT></TD>
</FORM></TR>


<TR>
<FORM NAME="NavButtons2">
<TD BGCOLOR="#bbddbb" ALIGN="CENTER"><FONT FACE="Geneva,Arial" SIZE="-1"><INPUT TYPE="button" VALUE="Volver" onClick="parent.history.back()"></FONT></TD>
</FORM>
</TR>




</TABLE>
</CENTER>
</BODY></HTML>
